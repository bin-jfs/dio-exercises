# Keylogger Simulado
## üß© Descri√ß√£o do Desafio:
- Implementar, documentar e compartilhar um projeto pr√°tico utilizando Python e bibliotecas como pynput e mailtrap para simular cen√°rios de ataque por Keylogger.

- Configura√ß√£o do ambiente: diret√≥rio controlado com arquivos de teste, cria√ß√£o de email tempor√°rio e arquivo execut√°vel para torn√°-lo mais furtivo.

- Executar opera√ß√µes simuladas: gerar um arquivo .txt com a captura das teclas pressionadas pelo usu√°rio e envi√°-lo por email.

- Documentar os testes: arquivos utilizados, comandos executados e recomenda√ß√µes de seguran√ßa.

---
## üìå Descri√ß√£o do ataque:
O ataque de Keylogger consiste em monitorar tudo o que √© digitado pelo usu√°rio, afim de coletar (principalmente) informa√ß√µes sens√≠veis. Este √© uma simula√ß√£o controlada para fins educacionais, demonstrando como funciona o processo de captura de teclas e envio por email com Python.

---
## üîß Preparando o ambiente:
Com o Python 3 instalado, precisamos adicionar a biblioteca *pynput*, a qual vai capturar as teclas pressionadas pelo usu√°rio, e a biblioteca *mailtrap* para envi√°-las ao email do atacante. Tamb√©m vamos precisar da biblioteca *pyinstaller* para criar um arquivo execut√°vel a partir do script python. Vamos abrir o terminal e executar o comando:

``` bash
pip install -r requirements.txt
```

---
## üìß Utilizando email an√¥nimo:
Para tornar o nosso Keylogger mais an√¥nimo e furtivo, precisamos de uma conta de email tempor√°ria. Para isso, usei os servi√ßos do *[Temp Mail](https://tempail.com/)* e, como a grande maioria destes servi√ßos n√£o permitem o envio de email, vamos usar tamb√©m os servi√ßos do [Mailtrap](https://mailtrap.io/). Ambos s√£o gratuitos.

#### ‚úâÔ∏è Cria√ß√£o de conta de email:

Vamos acessar a p√°gina do *[Temp Mail](https://tempail.com/)* para gerar um email tempor√°rio.
![Temp Mail](./images/01.png)

Com o nosso email tempor√°rio, vamos criar uma conta no [Mailtrap](https://mailtrap.io/register/signup).
![Mail Trap](./images/02.png)

Basta seguir preenchendo as informa√ß√µes solicitadas e, no final do processo, confirmar o email enviado para nosso email tempor√°rio.

#### ‚õìÔ∏è Configurando a API para enviar e receber emails:
Uma grande vantagem do *Mailtrap* √© a integra√ß√£o da sua API com o Python.
Com a nossa conta ativada, vamos acessar nossa Sandbox e criar um API Token para enviar e receber emails com as informa√ß√µes do Keylogger.  
Vamos seguir para *Sandboxes > My Sandbox > API > Create API Token*. Este token deve ser guardado em um local seguro.  
Pronto. Nossa Sandbox est√° pronta para receber os dados do Keylogger.
![Sandbox do Mailtrap](./images/03.png)

 Podemos ver que a pr√≥pria API j√° nos fornece o c√≥digo necess√°rio para o envio de emails.

*Integration > API > Python*
 ```python
 # Looking to send emails in production? Check out our Email API/SMTP product!
import mailtrap as mt

mail = mt.Mail(
    sender=mt.Address(email="hello@example.com", name="Mailtrap Test"),
    to=[mt.Address(email="<YOUR_TEMP_MAIL>")],
    subject="You are awesome!",
    text="Congrats for sending test email with Mailtrap!",
    category="Integration Test",
)

client = mt.MailtrapClient(token="<YOUR_API_TOKEN>", sandbox=True, inbox_id="<YOUR_INBOX_ID>")
response = client.send(mail)

print(response)
 ```

---
## üëª Tornando o Keylogger mais furtivo:
Para n√£o ter que executar o Keylogger atrav√©s de um terminal de linha de comando, nem depender da necessidade do Python instalado na m√°quina do usu√°rio, vamos utilizar a biblioteca *pyinstaller* para criar um arquivo execut√°vel.  
Vamos abrir um terminal no diret√≥rio do *keylogger.py* e digitar `pyinstaller ./keylogger.py -F -w`. Esse comando vai criar um execut√°vel *keylogger.exe* na pasta *dist*, no qual pode ser executado diretamente pelo Windows, dispensando um terminal ou qualquer janela.
![keylogger.exe](./images/04.png)

---
## üëÅÔ∏è Capturando as teclas:
O keylogger deste projeto foi programado para iniciar um timer e gravar um arquivo chamado *keylog.txt* sempre que o usu√°rio pressionar uma tecla. Caso a v√≠tima pare de digitar por 10 segundos, o keylogger automaticamente envia o arquivo capturado para o email do atacante. 

![Captura do Keylogger](./images/05.png)
![Captura do Keylogger](./images/06.png)

---
## ‚ö†Ô∏è Recomenda√ß√µes de seguran√ßa:
- Este projeto √© apenas para fins educativos. Use apenas em ambiente controlado.

---
## üõ°Ô∏è Reflex√£o sobre defesa:
A simula√ß√£o de um keylogger permite compreender como ataques reais podem comprometer dados e sistemas.  
Para reduzir riscos, algumas medidas de defesa s√£o fundamentais:

- **Antiv√≠rus e Antimalware:** detectar e bloquear comportamentos suspeitos.  
- **Firewall e Monitoramento de Rede:** identificar tr√°fego an√¥malo e impedir conex√µes maliciosas.  
- **Sandboxing:** executar programas em ambientes isolados para an√°lise segura.  
- **Conscientiza√ß√£o do Usu√°rio:** n√£o utilizar programas piratas, evitar abrir anexos suspeitos, links desconhecidos e manter boas pr√°ticas digitais.  

Essas estrat√©gias refor√ßam a import√¢ncia de unir tecnologia e educa√ß√£o para prevenir ataques e proteger informa√ß√µes.

---
## üìö Recursos:
### Slide:
- [Simulando um Malware de Captura de Dados Simples em Python e Aprendendo a se Proteger](https://hermes.dio.me/files/assets/650964f8-ee9d-411f-8b6b-bcbb2c66177e.pdf)

### Softwares e Ferramentas:
- [Python 3.13](https://www.python.org/)
- [Visual Studio Code](https://code.visualstudio.com/)

### Documenta√ß√µes oficiais:
- [Python ‚Äì Documenta√ß√£o Oficial](https://www.python.org/doc/)
- [Mailtrap](https://api-docs.mailtrap.io/docs/mailtrap-api-docs/)
- [pynput](https://pynput.readthedocs.io/en/latest/)
- [pyinstaller](https://pyinstaller.org/en/v6.17.0/)